<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kriya IDE Architecture Flow</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        body {
            font-family: 'Monaco', 'Menlo', monospace;
            background: #0a0a0a;
            color: #ffffff;
            margin: 0;
            padding: 20px;
        }
        .container {
            max-width: 1400px;
            margin: 0 auto;
        }
        h1 {
            text-align: center;
            color: #00ff88;
            margin-bottom: 30px;
        }
        .layer {
            background: rgba(255,255,255,0.05);
            border: 1px solid rgba(255,255,255,0.1);
            border-radius: 8px;
            padding: 20px;
            margin: 20px 0;
        }
        .layer-title {
            font-size: 18px;
            font-weight: bold;
            margin-bottom: 15px;
            color: #00ff88;
        }
        .component {
            background: rgba(0,255,136,0.1);
            border: 1px solid #00ff88;
            border-radius: 6px;
            padding: 10px;
            margin: 8px;
            display: inline-block;
            min-width: 120px;
            text-align: center;
            font-size: 12px;
        }
        .flow-arrow {
            color: #ff6b6b;
            font-size: 20px;
            text-align: center;
            margin: 10px 0;
        }
        .data-flow {
            background: rgba(255,107,107,0.1);
            border-left: 3px solid #ff6b6b;
            padding: 10px;
            margin: 10px 0;
            font-size: 11px;
        }
        .tech-stack {
            background: rgba(107,107,255,0.1);
            border: 1px solid #6b6bff;
            border-radius: 4px;
            padding: 5px 8px;
            margin: 2px;
            display: inline-block;
            font-size: 10px;
            color: #6b6bff;
        }
        .grid {
            display: grid;
            grid-template-columns: 1fr 1fr 1fr;
            gap: 20px;
            margin-top: 20px;
        }
        .connection-line {
            stroke: #ff6b6b;
            stroke-width: 2;
            fill: none;
            stroke-dasharray: 5,5;
            animation: dash 2s linear infinite;
        }
        @keyframes dash {
            to { stroke-dashoffset: -10; }
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>üöÄ KRIYA IDE - System Architecture Flow</h1>
        
        <div class="grid">
            <!-- FRONTEND LAYER -->
            <div class="layer">
                <div class="layer-title">üé® FRONTEND (Next.js)</div>
                
                <div class="component">
                    <strong>IDE Interface</strong><br>
                    Monaco Editor<br>
                    File Explorer<br>
                    Command Palette
                </div>
                
                <div class="component">
                    <strong>State Management</strong><br>
                    Zustand Store<br>
                    Editor Slice<br>
                    UI Slice
                </div>
                
                <div class="component">
                    <strong>Real-time Collab</strong><br>
                    Socket.io Client<br>
                    User Presence<br>
                    Live Cursors
                </div>
                
                <div class="component">
                    <strong>Views</strong><br>
                    Admin Dashboard<br>
                    Database Viewer<br>
                    Deployment Panel
                </div>
                
                <div style="margin-top: 15px;">
                    <div class="tech-stack">React 18</div>
                    <div class="tech-stack">TypeScript</div>
                    <div class="tech-stack">Tailwind CSS</div>
                    <div class="tech-stack">Framer Motion</div>
                </div>
                
                <div class="data-flow">
                    <strong>Data Flow:</strong><br>
                    ‚Ä¢ User interactions ‚Üí Zustand store<br>
                    ‚Ä¢ File operations ‚Üí API calls<br>
                    ‚Ä¢ Real-time events ‚Üí WebSocket<br>
                    ‚Ä¢ State changes ‚Üí UI updates
                </div>
            </div>
            
            <!-- BACKEND LAYER -->
            <div class="layer">
                <div class="layer-title">‚ö° BACKEND (Node.js)</div>
                
                <div class="component">
                    <strong>API Server</strong><br>
                    Next.js API Routes<br>
                    File System API<br>
                    Auth Endpoints
                </div>
                
                <div class="component">
                    <strong>WebSocket Server</strong><br>
                    Socket.io Server<br>
                    Collaboration Service<br>
                    Real-time Sync
                </div>
                
                <div class="component">
                    <strong>Services</strong><br>
                    File Manager<br>
                    Git Operations<br>
                    Code Execution<br>
                    Team Service
                </div>
                
                <div class="component">
                    <strong>AWS Integration</strong><br>
                    WebSocket API<br>
                    Lambda Functions<br>
                    CDK Deployment
                </div>
                
                <div style="margin-top: 15px;">
                    <div class="tech-stack">Node.js</div>
                    <div class="tech-stack">Socket.io</div>
                    <div class="tech-stack">AWS CDK</div>
                    <div class="tech-stack">Serverless</div>
                </div>
                
                <div class="data-flow">
                    <strong>Processing:</strong><br>
                    ‚Ä¢ HTTP requests ‚Üí API handlers<br>
                    ‚Ä¢ File operations ‚Üí File system<br>
                    ‚Ä¢ WebSocket events ‚Üí Broadcast<br>
                    ‚Ä¢ Code execution ‚Üí Terminal
                </div>
            </div>
            
            <!-- DATABASE/STORAGE LAYER -->
            <div class="layer">
                <div class="layer-title">üíæ DATA & STORAGE</div>
                
                <div class="component">
                    <strong>File System</strong><br>
                    Local Storage<br>
                    Workspace Files<br>
                    Project Structure
                </div>
                
                <div class="component">
                    <strong>Session Storage</strong><br>
                    Browser Storage<br>
                    User Preferences<br>
                    Tab States
                </div>
                
                <div class="component">
                    <strong>Collaboration Data</strong><br>
                    Shared Documents<br>
                    User Sessions<br>
                    Real-time State
                </div>
                
                <div class="component">
                    <strong>External APIs</strong><br>
                    IP Geolocation<br>
                    Avatar Service<br>
                    Git Providers
                </div>
                
                <div style="margin-top: 15px;">
                    <div class="tech-stack">Local FS</div>
                    <div class="tech-stack">Browser Storage</div>
                    <div class="tech-stack">JSON Files</div>
                    <div class="tech-stack">External APIs</div>
                </div>
                
                <div class="data-flow">
                    <strong>Storage:</strong><br>
                    ‚Ä¢ Files ‚Üí Local file system<br>
                    ‚Ä¢ Settings ‚Üí Browser storage<br>
                    ‚Ä¢ Collab state ‚Üí Memory/JSON<br>
                    ‚Ä¢ User data ‚Üí Session storage
                </div>
            </div>
        </div>
        
        <!-- FLOW DIAGRAM -->
        <div style="margin-top: 40px; background: rgba(255,255,255,0.02); padding: 20px; border-radius: 8px;">
            <h2 style="color: #00ff88; text-align: center;">üîÑ Data Flow Sequence</h2>
            
            <div style="display: flex; justify-content: space-between; align-items: center; margin: 20px 0;">
                <div style="text-align: center;">
                    <div style="background: #00ff88; color: black; padding: 10px; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin: 0 auto;">1</div>
                    <div style="margin-top: 10px; font-size: 12px;">User Action<br>(Edit File)</div>
                </div>
                
                <div style="color: #ff6b6b; font-size: 24px;">‚Üí</div>
                
                <div style="text-align: center;">
                    <div style="background: #ff6b6b; color: black; padding: 10px; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin: 0 auto;">2</div>
                    <div style="margin-top: 10px; font-size: 12px;">Zustand Store<br>(State Update)</div>
                </div>
                
                <div style="color: #ff6b6b; font-size: 24px;">‚Üí</div>
                
                <div style="text-align: center;">
                    <div style="background: #6b6bff; color: black; padding: 10px; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin: 0 auto;">3</div>
                    <div style="margin-top: 10px; font-size: 12px;">WebSocket<br>(Broadcast)</div>
                </div>
                
                <div style="color: #ff6b6b; font-size: 24px;">‚Üí</div>
                
                <div style="text-align: center;">
                    <div style="background: #ffff6b; color: black; padding: 10px; border-radius: 50%; width: 40px; height: 40px; display: flex; align-items: center; justify-content: center; margin: 0 auto;">4</div>
                    <div style="margin-top: 10px; font-size: 12px;">File System<br>(Save/Sync)</div>
                </div>
            </div>
            
            <div style="margin-top: 30px;">
                <h3 style="color: #00ff88;">Key Interactions:</h3>
                <ul style="font-size: 12px; line-height: 1.6;">
                    <li><strong>File Operations:</strong> Frontend ‚Üí API ‚Üí File System ‚Üí Response</li>
                    <li><strong>Real-time Collaboration:</strong> User A ‚Üí WebSocket ‚Üí Server ‚Üí Broadcast ‚Üí User B</li>
                    <li><strong>Code Execution:</strong> Editor ‚Üí API ‚Üí Terminal ‚Üí Output ‚Üí UI</li>
                    <li><strong>State Persistence:</strong> Zustand ‚Üí Browser Storage ‚Üí Restore on Load</li>
                    <li><strong>Team Features:</strong> Admin Panel ‚Üí API ‚Üí Team Service ‚Üí Database</li>
                </ul>
            </div>
        </div>
        
        <!-- TECHNOLOGY OVERVIEW -->
        <div style="margin-top: 30px; background: rgba(255,255,255,0.02); padding: 20px; border-radius: 8px;">
            <h2 style="color: #00ff88; text-align: center;">üõ†Ô∏è Technology Stack Overview</h2>
            
            <div style="display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 20px; margin-top: 20px;">
                <div>
                    <h4 style="color: #ff6b6b;">Frontend Stack</h4>
                    <ul style="font-size: 11px;">
                        <li>Next.js 14 (App Router)</li>
                        <li>React 18 (Concurrent Features)</li>
                        <li>TypeScript (Type Safety)</li>
                        <li>Tailwind CSS (Styling)</li>
                        <li>Monaco Editor (Code Editor)</li>
                        <li>Zustand (State Management)</li>
                        <li>Socket.io Client (Real-time)</li>
                        <li>Framer Motion (Animations)</li>
                    </ul>
                </div>
                
                <div>
                    <h4 style="color: #6b6bff;">Backend Stack</h4>
                    <ul style="font-size: 11px;">
                        <li>Node.js (Runtime)</li>
                        <li>Next.js API Routes</li>
                        <li>Socket.io Server</li>
                        <li>AWS WebSocket API</li>
                        <li>AWS Lambda Functions</li>
                        <li>AWS CDK (Infrastructure)</li>
                        <li>Serverless Framework</li>
                        <li>File System APIs</li>
                    </ul>
                </div>
                
                <div>
                    <h4 style="color: #ffff6b;">Data & Storage</h4>
                    <ul style="font-size: 11px;">
                        <li>Local File System</li>
                        <li>Browser Storage (localStorage)</li>
                        <li>Session Storage</li>
                        <li>JSON Data Files</li>
                        <li>In-Memory State</li>
                        <li>External APIs</li>
                        <li>Git Integration</li>
                        <li>WebSocket Sessions</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</body>
</html>